(this.webpackJsonplaborer_help_system=this.webpackJsonplaborer_help_system||[]).push([[0],{217:function(e,a,t){e.exports={container:"styles_container__7DN1k",componentContainer:"styles_componentContainer__ZdkRm",balanceContainer:"styles_balanceContainer__1I7Cl"}},577:function(e,a,t){e.exports=t(835)},582:function(e,a,t){},835:function(e,a,t){"use strict";t.r(a);var n=t(15),r=t(0),c=t.n(r),l=t(21),i=t.n(l),o=t(881),s=(t(582),t(539)),m=t(115),u=t(41),d=t(861),f=t(26),p=t.n(f),E=t(39),b=t(885),v=t(143),g=t(863),h=t(274),y=t(866),O=t(865),j=t(273),w=t.n(j),x=t(45),C=t(78),S=t(862),N=t(867),k=t(882),D=t(66),R=t.n(D),_="http://54.157.153.53/api/v1",P=function(e){R.a.defaults.headers.common.Authorization="Bearer ".concat(e)},B=function(){return R.a.get("".concat(_,"/labourers/list"))},T=function(e){return R.a.post("".concat(_,"/payments/add/card"),e)},M=function(e){return R.a.post("".concat(_,"/labourers/payout/labour"),e)},z=t(6),A="";function F(e){return c.a.createElement(k.a,Object.assign({elevation:6},e))}var I=Object(C.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function H(){var e=I(),a=Object(u.g)(),t=Object(r.useState)(""),l=Object(n.a)(t,2),i=l[0],o=l[1],s=Object(r.useState)(""),m=Object(n.a)(s,2),f=m[0],j=m[1],C=Object(d.a)(["user"]),k=Object(n.a)(C,2),D=(k[0],k[1]),B=Object(r.useState)(!1),T=Object(n.a)(B,2),M=T[0],H=T[1],L=Object(r.useState)(!1),W=Object(n.a)(L,2),q=W[0],K=W[1],U=function(){H(!1)},V=function(){var e=Object(E.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),K(!0),e.prev=2,e.next=5,r={email:i,password:f},R.a.post("".concat(_,"/user/login"),r);case 5:(n=e.sent)&&200===n.data.statusCode?(D("user",n.data.data,{path:"/"}),P(n.data.data.jwt),a.push("/")):(A="Signin failed!, Please try again",H(!0)),K(!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),A=e.t0&&e.t0.response?e.t0.response.data.message:"Signin failed!, Please try again",H(!0),K(!1);case 15:case"end":return e.stop()}var r}),e,null,[[2,10]])})));return function(a){return e.apply(this,arguments)}}();return c.a.createElement(S.a,{component:"main",maxWidth:"xs"},c.a.createElement(g.a,null),c.a.createElement("div",{className:e.paper},c.a.createElement(b.a,{className:e.avatar},c.a.createElement(w.a,null)),c.a.createElement(x.a,{component:"h1",variant:"h5"},"LHS"),c.a.createElement("form",{className:e.form,onSubmit:V},c.a.createElement(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){o(e.target.value)}}),c.a.createElement(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){j(e.target.value)}}),c.a.createElement(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:q},"Sign In"),c.a.createElement(O.a,{container:!0},c.a.createElement(O.a,{item:!0,xs:!0}),c.a.createElement(O.a,{item:!0},c.a.createElement(y.a,{href:"/signup",variant:"body2"},"Don't have an account? Sign Up")))),c.a.createElement(N.a,{open:M,autoHideDuration:6e3,onClose:U,anchorOrigin:{vertical:"top",horizontal:"center"}},c.a.createElement(F,{onClose:U,severity:"error"},Object(z.a)(A)))))}function L(e){return c.a.createElement(k.a,Object.assign({elevation:6},e))}var W=Object(C.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),q="";function K(){var e=W(),a=Object(u.g)(),t=Object(r.useState)(""),l=Object(n.a)(t,2),i=l[0],o=l[1],s=Object(r.useState)(""),m=Object(n.a)(s,2),f=m[0],j=m[1],C=Object(r.useState)(""),k=Object(n.a)(C,2),D=k[0],B=k[1],T=Object(r.useState)(""),M=Object(n.a)(T,2),A=M[0],F=M[1],I=Object(d.a)(["user"]),H=Object(n.a)(I,2),K=(H[0],H[1]),U=Object(r.useState)(!1),V=Object(n.a)(U,2),G=V[0],Y=V[1],J=Object(r.useState)(!1),Z=Object(n.a)(J,2),$=Z[0],Q=Z[1],X=function(){Y(!1)},ee=function(){var e=Object(E.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),Q(!0),e.prev=2,e.next=5,r={firstname:D,lastname:A,email:i,password:f},R.a.post("".concat(_,"/user/register"),r);case 5:(n=e.sent)&&201===n.data.statusCode?(K("user",n.data.data,{path:"/"}),P(n.data.data.jwt),a.push("/")):(q="Signup failed!, Please try again",Y(!0)),Q(!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),q=e.t0&&e.t0.response?e.t0.response.data.message:"Signup failed!, Please try again",Y(!0),Q(!1);case 15:case"end":return e.stop()}var r}),e,null,[[2,10]])})));return function(a){return e.apply(this,arguments)}}();return c.a.createElement(S.a,{component:"main",maxWidth:"xs"},c.a.createElement(g.a,null),c.a.createElement("div",{className:e.paper},c.a.createElement(b.a,{className:e.avatar},c.a.createElement(w.a,null)),c.a.createElement(x.a,{component:"h1",variant:"h5"},"LHS"),c.a.createElement("form",{className:e.form,onSubmit:ee},c.a.createElement(O.a,{container:!0,spacing:2},c.a.createElement(O.a,{item:!0,xs:12,sm:6},c.a.createElement(h.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(e){B(e.target.value)}})),c.a.createElement(O.a,{item:!0,xs:12,sm:6},c.a.createElement(h.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:function(e){F(e.target.value)}})),c.a.createElement(O.a,{item:!0,xs:12},c.a.createElement(h.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){o(e.target.value)}})),c.a.createElement(O.a,{item:!0,xs:12},c.a.createElement(h.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){j(e.target.value)}}))),c.a.createElement(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:$},"Sign Up"),c.a.createElement(O.a,{container:!0,justify:"flex-end"},c.a.createElement(O.a,{item:!0},c.a.createElement(y.a,{href:"/signin",variant:"body2"},"Already have an account? Sign in")))),c.a.createElement(N.a,{open:G,autoHideDuration:6e3,onClose:X,anchorOrigin:{vertical:"top",horizontal:"center"}},c.a.createElement(L,{onClose:X,severity:"error"},Object(z.a)(q)))))}var U=t(211),V=t(356),G=t.n(V),Y=t(357),J=t.n(Y),Z=t(350),$=t.n(Z),Q=t(507),X=t.n(Q),ee=t(517),ae=t.n(ee),te=t(508),ne=t.n(te),re=t(515),ce=t.n(re),le=t(364),ie=t.n(le),oe=t(363),se=t.n(oe),me=t(509),ue=t.n(me),de=t(510),fe=t.n(de),pe=t(512),Ee=t.n(pe),be=t(513),ve=t.n(be),ge=t(514),he=t.n(ge),ye=t(518),Oe=t.n(ye),je=t(511),we=t.n(je),xe=t(516),Ce=t.n(xe),Se=t(519),Ne=t.n(Se),ke=t(520),De=t.n(ke),Re={Add:Object(r.forwardRef)((function(e,a){return c.a.createElement(X.a,Object.assign({},e,{ref:a}))})),Check:Object(r.forwardRef)((function(e,a){return c.a.createElement(ne.a,Object.assign({},e,{ref:a}))})),Clear:Object(r.forwardRef)((function(e,a){return c.a.createElement(se.a,Object.assign({},e,{ref:a}))})),Delete:Object(r.forwardRef)((function(e,a){return c.a.createElement(ue.a,Object.assign({},e,{ref:a}))})),DetailPanel:Object(r.forwardRef)((function(e,a){return c.a.createElement(ie.a,Object.assign({},e,{ref:a}))})),Edit:Object(r.forwardRef)((function(e,a){return c.a.createElement(fe.a,Object.assign({},e,{ref:a}))})),Export:Object(r.forwardRef)((function(e,a){return c.a.createElement(we.a,Object.assign({},e,{ref:a}))})),Filter:Object(r.forwardRef)((function(e,a){return c.a.createElement(Ee.a,Object.assign({},e,{ref:a}))})),FirstPage:Object(r.forwardRef)((function(e,a){return c.a.createElement(ve.a,Object.assign({},e,{ref:a}))})),LastPage:Object(r.forwardRef)((function(e,a){return c.a.createElement(he.a,Object.assign({},e,{ref:a}))})),NextPage:Object(r.forwardRef)((function(e,a){return c.a.createElement(ie.a,Object.assign({},e,{ref:a}))})),PreviousPage:Object(r.forwardRef)((function(e,a){return c.a.createElement(ce.a,Object.assign({},e,{ref:a}))})),ResetSearch:Object(r.forwardRef)((function(e,a){return c.a.createElement(se.a,Object.assign({},e,{ref:a}))})),Search:Object(r.forwardRef)((function(e,a){return c.a.createElement(Ce.a,Object.assign({},e,{ref:a}))})),SortArrow:Object(r.forwardRef)((function(e,a){return c.a.createElement(ae.a,Object.assign({},e,{ref:a}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,a){return c.a.createElement(Oe.a,Object.assign({},e,{ref:a}))})),ViewColumn:Object(r.forwardRef)((function(e,a){return c.a.createElement(Ne.a,Object.assign({},e,{ref:a}))})),Asses:Object(r.forwardRef)((function(e,a){return c.a.createElement(De.a,Object.assign({},e,{ref:a}))}))};function _e(e){var a=e.data,t=e.title,n=e.columns,r=e.editable,l=e.actions,i=e.options;return c.a.createElement($.a,{icons:Re,columns:n,data:a,title:t,editable:r,actions:l,options:i})}_e.defaultProps={data:[]};var Pe="";function Be(e){return c.a.createElement(k.a,Object.assign({elevation:6},e))}function Te(e){return c.a.createElement(k.a,Object.assign({elevation:6},e,{severity:"success"}))}var Me=[{title:"Name",field:"name",validate:function(e){return""===e.name?"Name cannot be empty":""}},{title:"Designation",field:"designation",validate:function(e){return""===e.designation?"Designation cannot be empty":""}},{title:"Email",field:"email",validate:function(e){return""===e.email?"Email cannot be empty":""}},{title:"Country Code",field:"country_code",validate:function(e){return""===e.country_code?"Country Code cannot be empty":""}},{title:"Phone",field:"phone",validate:function(e){return""===e.phone?"Phone number cannot be empty":""}},{title:"Fitbit",field:"code",editable:"onAdd",render:function(e){return c.a.createElement(G.a,{data:e})},editComponent:function(e){return c.a.createElement(ze,e)}}],ze=function(e){var a=e.onChange,t=function(e){var t=localStorage.getItem("tracker_token");localStorage.removeItem("tracker_token"),a(t)};return c.a.createElement(U.a,{"aria-label":"add_fitbit",onClick:function(){window.addEventListener("storage",t),window.open("https://www.fitbit.com/oauth2/authorize?response_type=code&client_id=22BT9C&redirect_uri=http://localhost:3000/authenticate_device&scope=activity%20nutrition%20heartrate%20location%20nutrition%20profile%20settings%20sleep%20social%20weight","_blank")}},c.a.createElement(J.a,null))};function Ae(){var e=Object(r.useState)([]),a=Object(n.a)(e,2),t=a[0],l=a[1],i=Object(r.useState)(""),o=Object(n.a)(i,2),s=o[0],m=o[1],u=function(){var e=Object(E.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:(a=e.sent)&&a.data&&l(a.data.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){u()}),[]);var d=function(){Pe="",m("")};return c.a.createElement("div",null,c.a.createElement(_e,{columns:Me,data:t,title:"Laborers",options:{actionsColumnIndex:-1},editable:{onRowAdd:function(e){return new Promise((function(a,t){if(e.name&&e.designation&&e.country_code&&e.phone&&e.code&&e.email){var n=e.name,r=e.designation,c=e.country_code,l=e.phone,i=e.code,o=e.email;(s={name:n,designation:r,country_code:c,phone:l,code:i,email:o},R.a.post("".concat(_,"/labourers/labourer"),s)).then((function(e){e&&201===e.data.statusCode?(m("success"),u(),a()):(Pe="Failed to add laborer",m("failed"),t())})).catch((function(e){Pe=e&&e.response?e.response.data.message:"Failed to add laborer",m("failed"),t()}))}else m("failed"),t();var s}))}}}),c.a.createElement(N.a,{open:"failed"===s,autoHideDuration:6e3,onClose:d,anchorOrigin:{vertical:"top",horizontal:"center"}},c.a.createElement(Be,{onClose:d,severity:"error"},Object(z.a)(Pe))),c.a.createElement(N.a,{open:"success"===s,autoHideDuration:6e3,onClose:d,anchorOrigin:{vertical:"top",horizontal:"center"}},c.a.createElement(Te,{onClose:d,severity:"error"},"Succefully added laborer")))}var Fe=t(214),Ie=t(872),He=t(87),Le=t(500),We=t(842),qe=t(845),Ke=t(444),Ue=t(521),Ve=t.n(Ue),Ge=t(523),Ye=t.n(Ge),Je=t(351),Ze=t(23),$e=t(538),Qe=t(522),Xe=t.n(Qe),ea=t(434),aa=t(263),ta=Object(C.a)((function(e){return{root:{display:"flex",alignItems:"center"},drawer:Object(Fe.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:{zIndex:e.zIndex.drawer+1},menuButton:Object(Fe.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)},closeMenuButton:{marginRight:"auto",marginLeft:0},title:{flexGrow:1},marginLeft8:{marginLeft:"3em"},iconLink:{display:"flex",alignItems:"center"}}}));var na=function(){var e,a,t=ta(),r=Object(Ze.a)(),l=c.a.useState(!1),i=Object(n.a)(l,2),o=i[0],s=i[1],m=c.a.useState(null),f=Object(n.a)(m,2),p=f[0],E=f[1],b=Boolean(p),v=Object(u.g)(),h=Object(d.a)(["user"]),O=Object(n.a)(h,3),j=O[0],w=(O[1],O[2]);function C(){s(!o)}var S=c.a.createElement("div",null,c.a.createElement(We.a,null,["Hokusai","Hiroshige","Utamaro","Kuniyoshi","Yoshitoshi"].map((function(e,a){return c.a.createElement(qe.a,{button:!0,key:e},c.a.createElement(Ke.a,{primary:e}))}))));return c.a.createElement("div",{className:t.root},c.a.createElement(g.a,null),c.a.createElement(Ie.a,{position:"static",className:t.appBar},c.a.createElement(Je.a,{variant:"dense"},c.a.createElement("div",{className:"".concat(t.root," ").concat(t.title)},c.a.createElement(U.a,{color:"inherit","aria-label":"Open drawer",edge:"start",onClick:C,className:t.menuButton},c.a.createElement(Ve.a,null)),c.a.createElement(y.a,{href:"/manage_laborers",onClick:function(e){e.preventDefault(),v.push("/")},underline:"none",color:"inherit",className:t.iconLink},c.a.createElement($e.a,{size:"2em"}),c.a.createElement(x.a,{variant:"h6",noWrap:!0},"\xa0Laborer Help System")),"MANAGER"===(null===j||void 0===j||null===(e=j.user)||void 0===e?void 0:e.permission)&&c.a.createElement(Le.a,{xsDown:!0,implementation:"css"},c.a.createElement(y.a,{href:"/manage_laborers",onClick:function(e){e.preventDefault(),v.push("/manage_laborers")},underline:"none",color:"inherit",className:t.marginLeft8},"Manage Laborers"))),c.a.createElement("div",null,c.a.createElement(U.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){E(e.currentTarget)},color:"inherit"},c.a.createElement(Xe.a,null),c.a.createElement(x.a,{variant:"body2"},"\xa0",null===j||void 0===j||null===(a=j.user)||void 0===a?void 0:a.firstname)),c.a.createElement(aa.a,{id:"menu-appbar",anchorEl:p,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:b,onClose:function(){E(null)}},c.a.createElement(ea.a,{onClick:function(){w("user")}},"Logout"))))),c.a.createElement(Le.a,{smUp:!0,implementation:"css"},c.a.createElement("nav",{className:t.drawer},c.a.createElement(He.a,{variant:"temporary",anchor:"rtl"===r.direction?"right":"left",open:o,onClose:C,classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0}},c.a.createElement(U.a,{onClick:C,className:t.closeMenuButton},c.a.createElement(Ye.a,null)),S))))},ra=t(322);function ca(e){var a=e.children;return c.a.createElement("div",null,c.a.createElement(na,null),c.a.createElement(ra.a,{px:4,py:4},a))}function la(){var e=new URL(window.location.href).searchParams.get("code");return e&&window.localStorage.setItem("tracker_token",e),window.close(),null}var ia=[{title:"Name",field:"name"},{title:"Designation",field:"designation"}];function oa(e){var a=e.selectLaborer,t=e.laborerList;return c.a.createElement(_e,{columns:ia,data:t,title:"Laborers",actions:[{icon:Re.Asses,tooltip:"User Data",onClick:function(e,t){return a(t)}}],options:{actionsColumnIndex:-1,minBodyHeight:window.innerHeight-208,pageSize:10}})}oa.defaultProps={selectLaborer:function(){}};var sa=t(217),ma=t.n(sa),ua=t(873),da=t(874),fa=t(875),pa=t(534),Ea=t.n(pa),ba=t(533),va=t.n(ba),ga=t(93),ha=t(65);function ya(e){var a=e.heartRateData;return c.a.createElement("div",{style:{width:"100%",height:window.innerHeight/3}},c.a.createElement(ha.e,null,c.a.createElement(ha.d,{data:a,margin:{top:5,right:30,left:20,bottom:5}},c.a.createElement(ha.a,{strokeDasharray:"3 3"}),c.a.createElement(ha.g,{dataKey:"time",scale:"time",type:"number",domain:["auto","auto"],tickFormatter:function(e){return Object(ga.default)(e,"hh aaaa")}}),c.a.createElement(ha.f,{labelFormatter:function(e,a,t){return"Time : ".concat(Object(ga.default)(e,"hh aaaa"))}}),c.a.createElement(ha.b,null),c.a.createElement(ha.c,{type:"monotone",dataKey:"value",stroke:"#8884d8",dot:!1,name:"Heart Rate"}))))}var Oa=t(446),ja=t(162),wa=t(447),xa=t(448),Ca=t(288),Sa=t.n(Ca),Na=t(289),ka=t.n(Na),Da=t(287),Ra=t.n(Da),_a=t(290),Pa=t.n(_a),Ba=Object(C.a)({statRow:{display:"flex",flexDirection:"row",flex:1,justifyContent:"center",alignItems:"center"},statContainer:{padding:"1em 5em",textAlign:"center"},valueContainer:{display:"flex",alignItems:"center"},titleStat:{fontSize:"1em"},valueStat:{fontSize:"2em"}});function Ta(e){var a=e.summary,t=Ba();return c.a.createElement("div",null,c.a.createElement("div",{className:t.statRow},c.a.createElement("div",{className:t.statContainer},c.a.createElement("div",null,c.a.createElement(x.a,{className:t.titleStat,color:"textSecondary"},"Steps")),c.a.createElement("div",{className:t.valueContainer},c.a.createElement(Ra.a,{style:{color:Oa.a[500]}}),c.a.createElement(x.a,{className:t.valueStat},a.steps))),c.a.createElement("div",{className:t.statContainer},c.a.createElement("div",null,c.a.createElement(x.a,{className:t.titleStat},"Calories")),c.a.createElement("div",{className:t.valueContainer},c.a.createElement(Sa.a,{style:{color:ja.a[500]}}),c.a.createElement(x.a,{className:t.valueStat},a.calories," kcal")))),c.a.createElement("div",{className:t.statRow},c.a.createElement("div",{className:t.statContainer},c.a.createElement("div",null,c.a.createElement(x.a,{color:"textSecondary",className:t.titleStat},"Distance")),c.a.createElement("div",{className:t.valueContainer},c.a.createElement(ka.a,{style:{color:wa.a[500]}}),c.a.createElement(x.a,{className:t.valueStat},a.distance," km"))),c.a.createElement("div",{className:t.statContainer},c.a.createElement("div",null,c.a.createElement(x.a,{color:"textSecondary",className:t.titleStat},"Sendentary Time")),c.a.createElement("div",{className:t.valueContainer},c.a.createElement(Pa.a,{style:{color:xa.a[300]}}),c.a.createElement(x.a,{className:t.valueStat},a.idleTime," mins")))))}Ta.defaultProps={summary:{}};var Ma=t(537),za=t(880),Aa=function(e){var a=Object(Ma.a)(e,"HH:mm:ss",new Date((new Date).toDateString()).valueOf());return Object(za.a)(a)},Fa=Object(C.a)({root:{width:"100%",minHeight:window.innerHeight-92,display:"flex",flexDirection:"column",justifyContent:"space-between"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{},pos:{marginBottom:12},dateString:{display:"flex",alignItems:"center"}}),Ia={heartRateData:[],summary:{steps:"",calories:"",distance:"",idleTime:""}};function Ha(e){var a=e.laborer,t=Fa(),l=Object(u.g)(),i=Object(r.useState)(Ia),o=Object(n.a)(i,2),s=o[0],m=o[1],d=function(){var e=Object(E.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.id){e.next=11;break}return e.prev=1,e.next=4,r=a.id,R.a.get("".concat(_,"/labourers/labour/").concat(r));case 4:t=e.sent,n=t.data.data,m({heartRateData:n.heart_rate["activities-heart-intraday"].dataset.map((function(e){var a=e.time,t=e.value;return{time:Aa(a),value:t}})),summary:{steps:n.activity.summary.steps,idleTime:n.activity.summary.sedentaryMinutes,calories:n.activity.summary.caloriesOut,distance:n.activity.summary.distances[0].distance}}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}var r}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){d()}),[a]);return c.a.createElement(ua.a,{className:"".concat(t.root," MuiPaper-elevation2")},c.a.createElement(fa.a,null,c.a.createElement(O.a,{container:!0},c.a.createElement(O.a,{item:!0,xs:10},c.a.createElement(x.a,{className:t.title,color:"textPrimary",gutterBottom:!0,variant:"h5"},Object(z.a)(a.name||"")),c.a.createElement(x.a,{color:"textSecondary",variant:"caption"},"Designation"),c.a.createElement(x.a,{gutterBottom:!0},Object(z.a)(a.designation||"")),c.a.createElement(O.a,{container:!0},c.a.createElement(O.a,{item:!0,xs:4},c.a.createElement(x.a,{color:"textSecondary",variant:"caption"},"Contact")),c.a.createElement(O.a,{item:!0,xs:4},c.a.createElement(x.a,{color:"textSecondary",variant:"caption"},"Email")),c.a.createElement(O.a,{item:!0,xs:4},c.a.createElement(x.a,{color:"textSecondary",variant:"caption"},"Tip Received"))),c.a.createElement(O.a,{container:!0},c.a.createElement(O.a,{item:!0,xs:4},c.a.createElement(x.a,{color:"textSecondary",gutterBottom:!0},"".concat(a.country_code||""," ").concat(a.phone||""))),c.a.createElement(O.a,{item:!0,xs:4},c.a.createElement(x.a,{gutterBottom:!0},a.email)),c.a.createElement(O.a,{item:!0,xs:4},c.a.createElement(x.a,{gutterBottom:!0},a.amount," AED")))),c.a.createElement(O.a,{item:!0,xs:2},c.a.createElement(x.a,{variant:"body2",className:t.dateString,gutterBottom:!0},c.a.createElement(va.a,{fontSize:"small"}),Object(ga.default)(new Date," do MMM")))),c.a.createElement(x.a,{color:"textSecondary"},"Heart Rate"),c.a.createElement(ya,{laborer:a,heartRateData:s.heartRateData}),c.a.createElement(x.a,{color:"textSecondary",gutterBottom:!0},"Stats"),c.a.createElement(Ta,{laborer:a,summary:s.summary})),c.a.createElement(da.a,null,c.a.createElement(v.a,{endIcon:c.a.createElement(Ea.a,null),onClick:function(){l.push("/detail_view",{laborer:a})},size:"small"},"Detailed")))}function La(e){return c.a.createElement(k.a,Object.assign({elevation:6},e))}function Wa(e){return c.a.createElement(k.a,Object.assign({elevation:6},e,{severity:"success"}))}Ha.defaultProps={laborer:{name:"",designation:"",phone:"",email:"",country_code:""}};var qa="";function Ka(){var e,a=Object(r.useState)({}),t=Object(n.a)(a,2),l=t[0],i=t[1],o=Object(r.useState)(""),s=Object(n.a)(o,2),m=s[0],u=s[1],f=Object(r.useState)(""),b=Object(n.a)(f,2),g=b[0],h=b[1],y=Object(d.a)(["user"]),O=Object(n.a)(y,2),j=O[0],w=(O[1],Object(r.useState)([])),C=Object(n.a)(w,2),S=C[0],k=C[1],D=function(){var e=Object(E.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:(a=e.sent)&&a.data&&(i(a.data.data[0]),k(a.data.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(E.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u("processing"),e.prev=1,e.next=4,R.a.post("".concat(_,"/labourers/clear/payments"));case 4:(a=e.sent)&&201===a.data.statusCode?(qa="Successfully settled balance",u("success"),T(),D()):(qa="Failed to settle balance, Please try again",u("failed")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),qa="Failed to settle balance, Please try again",u("failed");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(E.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("".concat(_,"/user/user/balance"));case 2:(a=e.sent)&&200===a.data.statusCode&&h(a.data.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){return T(),D(),function(){}}),[]);var M=function(){qa="",u("")};return c.a.createElement("div",null,"MANAGER"===(null===j||void 0===j||null===(e=j.user)||void 0===e?void 0:e.permission)&&c.a.createElement("div",{className:ma.a.balanceContainer},c.a.createElement(v.a,{onClick:P,color:"primary",disabled:"processing"===m},"Settle Laborer Balance"),c.a.createElement(x.a,{display:"inline"},"Account Balance: ",g,c.a.createElement(x.a,{variant:"caption"}," AED"))),c.a.createElement("div",{className:ma.a.container},c.a.createElement("div",{className:ma.a.componentContainer},c.a.createElement(oa,{laborerList:S})),c.a.createElement("div",{className:ma.a.componentContainer},c.a.createElement(Ha,{laborer:l}))),c.a.createElement(N.a,{open:"failed"===m,autoHideDuration:6e3,onClose:M,anchorOrigin:{vertical:"top",horizontal:"center"}},c.a.createElement(La,{onClose:M,severity:"error"},Object(z.a)(qa))),c.a.createElement(N.a,{open:"success"===m,autoHideDuration:6e3,onClose:M,anchorOrigin:{vertical:"top",horizontal:"center"}},c.a.createElement(Wa,{onClose:M,severity:"error"},Object(z.a)(qa))))}var Ua=t(291),Va=t(536),Ga=t.n(Va);function Ya(e){var a=e.heartRateData;return c.a.createElement("div",{style:{width:"100%",height:200}},c.a.createElement(ha.e,null,c.a.createElement(ha.d,{data:a,margin:{top:5,right:30,left:20,bottom:5}},c.a.createElement(ha.a,{strokeDasharray:"3 3"}),c.a.createElement(ha.g,{dataKey:"time",scale:"time",type:"number",domain:["auto","auto"],tickFormatter:function(e){return Object(ga.default)(e,"hh:mm aaaa")}}),c.a.createElement(ha.f,{labelFormatter:function(e,a,t){return"Time : ".concat(Object(ga.default)(e,"hh:mm aaaa"))}}),c.a.createElement(ha.b,null),c.a.createElement(ha.c,{type:"monotone",dataKey:"value",stroke:"#8884d8",dot:!1,name:"Heart Rate"}))))}var Ja=t(156),Za=t(32),$a=t(320),Qa=Object(C.a)({statRow:{display:"flex",flexDirection:"row",flex:1,justifyContent:"center",alignItems:"center"},statContainer:{padding:"1em 5em",textAlign:"center"},valueContainer:{display:"flex",alignItems:"center"},titleStat:{fontSize:"1em"},valueStat:{fontSize:"2em"}});function Xa(e){var a=e.summary,t=Qa();return c.a.createElement("div",{className:t.statRow},c.a.createElement("div",{className:t.statContainer},c.a.createElement("div",null,c.a.createElement(x.a,{className:t.titleStat,color:"textSecondary"},"Steps")),c.a.createElement("div",{className:t.valueContainer},c.a.createElement(Ra.a,{style:{color:Oa.a[500]}}),c.a.createElement(x.a,{className:t.valueStat},a.steps))),c.a.createElement("div",{className:t.statContainer},c.a.createElement("div",null,c.a.createElement(x.a,{color:"textSecondary",className:t.titleStat},"Calories")),c.a.createElement("div",{className:t.valueContainer},c.a.createElement(Sa.a,{style:{color:ja.a[500]}}),c.a.createElement(x.a,{className:t.valueStat},a.calories," kcal"))),c.a.createElement("div",{className:t.statContainer},c.a.createElement("div",null,c.a.createElement(x.a,{color:"textSecondary",className:t.titleStat},"Distance")),c.a.createElement("div",{className:t.valueContainer},c.a.createElement(ka.a,{style:{color:wa.a[500]}}),c.a.createElement(x.a,{className:t.valueStat},a.distance," km"))),c.a.createElement("div",{className:t.statContainer},c.a.createElement("div",null,c.a.createElement(x.a,{color:"textSecondary",className:t.titleStat},"Sedentary Time")),c.a.createElement("div",{className:t.valueContainer},c.a.createElement(Pa.a,{style:{color:xa.a[300]}}),c.a.createElement(x.a,{className:t.valueStat},a.idleTime," mins"))))}Xa.defaultProps={summary:{}};var et=t(876),at=t(879),tt=t(884),nt=t(355),rt=t(544),ct=t(431),lt=t(849),it=t(878),ot=t(850),st=t(877),mt=t(851),ut=t(535),dt=t.n(ut),ft=[],pt=Object(C.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},cardField:{marginBottom:e.spacing(1)},expiryField:{marginBottom:e.spacing(1),marginRight:e.spacing(1),width:"18ch"},cvvField:{marginBottom:e.spacing(1),width:"12ch"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),Et=function(e){var a=e;return e.length>4&&e.length<9?a=a.slice(0,4)+" "+a.slice(4,e.length):e.length>8&&e.length<13?a=a.slice(0,4)+" "+a.slice(4,8)+" "+a.slice(8,e.length):e.length>12&&(a=a.slice(0,4)+" "+a.slice(4,8)+" "+a.slice(8,12)+" "+a.slice(12,e.length)),a},bt=function(e){var a=e;return a.length>2&&(a=a.slice(0,2)+"/"+a.slice(2,a.length)),a};function vt(e){return c.a.createElement(k.a,Object.assign({elevation:6},e))}function gt(e){return c.a.createElement(k.a,Object.assign({elevation:6},e,{severity:"success"}))}var ht=function(e){var a=e.card;return c.a.createElement("div",null,c.a.createElement(x.a,{display:"inline"},a.name," \xa0"),c.a.createElement(x.a,{display:"inline"},Et(a.card_number)),c.a.createElement(x.a,null,bt(a.expiry_date)))},yt=function(){var e=pt(),a=Object(r.useState)(""),t=Object(n.a)(a,2),l=t[0],i=t[1],o=Object(r.useState)(""),s=Object(n.a)(o,2),m=s[0],d=s[1],f=Object(r.useState)(""),b=Object(n.a)(f,2),g=b[0],y=b[1],j=Object(r.useState)(""),w=Object(n.a)(j,2),x=w[0],C=w[1],S=Object(r.useState)(""),k=Object(n.a)(S,2),D=k[0],P=k[1],B=Object(r.useState)(""),A=Object(n.a)(B,2),F=A[0],I=A[1],H=Object(r.useState)({}),L=Object(n.a)(H,2),W=L[0],q=L[1],K=Object(r.useState)(""),U=Object(n.a)(K,2),V=U[0],G=U[1],Y=Object(r.useState)(!1),J=Object(n.a)(Y,2),Z=J[0],$=J[1],Q=Object(r.useState)(ft),X=Object(n.a)(Q,2),ee=X[0],ae=X[1],te=Object(r.useState)(""),ne=Object(n.a)(te,2),re=ne[0],ce=ne[1],le=Object(r.useState)(!1),ie=Object(n.a)(le,2),oe=ie[0],se=ie[1],me=Object(r.useState)(!1),ue=Object(n.a)(me,2),de=ue[0],fe=ue[1],pe=Object(u.g)(),Ee=Object(Ua.a)({},pe.location.state.laborer),be=function(){var e=Object(E.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get("".concat(_,"/payments/cards"));case 3:(a=e.sent)&&200===a.data.statusCode&&ae(a.data.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){be()}),[]);var ve=function(e){var a=e.target.value;(""===a||Number(a)&&a.length<=3)&&G(a)},ge=function(e){var a=e.target.value;W.card_number!==a&&G("");var t=ee.findIndex((function(e){return e.card_number===a}));q(ee[t])},he=function(){$(!Z)},ye=function(){var e=Object(E.a)(p.a.mark((function e(a){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t={name:g,card_number:x,expiry_date:D,cvv:F},e.prev=2,e.next=5,T(t);case 5:(n=e.sent)&&201===n.data.statusCode?(i("Successfully Added Card"),je()):d("Failed to add card"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),d("Failed to add card");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(a){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(E.a)(p.a.mark((function e(a){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),se(!0),t={amount:Number(re),card_id:W.card_number,labour_id:Ee.id},e.prev=3,e.next=6,M(t);case 6:(n=e.sent)&&200===n.data.statusCode?(se(!1),fe(!0),i("Successfully Paid")):(se(!1),d("Payment Failed")),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),se(!1),d("Payment Failed");case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(a){return e.apply(this,arguments)}}(),je=function(){he(),C(""),I(""),P(""),y("")},we=function(){i(""),d("")},xe=function(){pe.goBack()};return c.a.createElement(O.a,{container:!0,spacing:2},c.a.createElement(O.a,{item:!0,xs:6},c.a.createElement(ua.a,null,c.a.createElement(et.a,{title:"Saved Cards"}),c.a.createElement(fa.a,null,c.a.createElement(We.a,null,ee.map((function(e){return c.a.createElement(qe.a,{key:e.card_number},c.a.createElement(at.a,null,c.a.createElement(tt.a,{edge:"start",checked:W.card_number===e.card_number,color:"primary",value:e.card_number,onChange:ge})),c.a.createElement(Ke.a,{primary:c.a.createElement(ht,{card:e}),secondary:W.card_number===e.card_number?c.a.createElement(h.a,{placeholder:"CVV",type:"password",size:"small",value:V,onChange:ve}):null}))})),c.a.createElement(qe.a,{key:"addNewCard"},c.a.createElement(Ke.a,{primary:c.a.createElement(v.a,{onClick:he,startIcon:c.a.createElement(dt.a,null)},"Add New Card")})))))),c.a.createElement(O.a,{item:!0,xs:6},c.a.createElement(ua.a,null,c.a.createElement(et.a,{title:Z?"Add Card":"Tip Payment"}),Z?c.a.createElement(fa.a,null,c.a.createElement("form",{onSubmit:ye},c.a.createElement(O.a,{item:!0,xs:12},c.a.createElement(h.a,{value:g,id:"cardholder-name",label:"Name on card",required:!0,variant:"outlined",size:"small",fullWidth:!0,className:e.cardField,onChange:function(e){y(e.target.value)}})),c.a.createElement(O.a,{item:!0,xs:12},c.a.createElement(h.a,{value:Et(x),id:"tip-Card",label:"Card",required:!0,variant:"outlined",size:"small",fullWidth:!0,className:e.cardField,onChange:function(e){var a=e.target.value;(""===(a=a.replace(/\ /g,""))||Number(a)&&a.length<=16)&&C(a)}})),c.a.createElement(O.a,{item:!0,xs:12},c.a.createElement(h.a,{id:"card-expiry",label:"Expiry",required:!0,value:bt(D),variant:"outlined",size:"small",className:e.expiryField,placeholder:"MM/YY",onChange:function(e){var a=e.target.value;(""===(a=a.replace(/\//g,""))||Number(a)&&a.length<=4)&&P(a)}}),c.a.createElement(h.a,{id:"card-CVV",label:"CVV",required:!0,variant:"outlined",size:"small",value:F,className:e.cvvField,onChange:function(e){var a=e.target.value;(""===a||Number(a)&&a.length<=3)&&I(a)}})),c.a.createElement(O.a,{item:!0,xs:12},c.a.createElement(O.a,{container:!0,spacing:2},c.a.createElement(O.a,{item:!0,xs:6},c.a.createElement(v.a,{type:"reset",onClick:je,fullWidth:!0},"Cancel")),c.a.createElement(O.a,{item:!0,xs:6},c.a.createElement(v.a,{color:"primary",type:"submit",fullWidth:!0,variant:"contained"},"Add Card")))))):c.a.createElement(fa.a,null,c.a.createElement("form",{onSubmit:Oe},c.a.createElement(O.a,{container:!0,justify:"center"},c.a.createElement(O.a,{item:!0,xs:6},c.a.createElement(h.a,{value:re,id:"tip-amount",label:"Amount",required:!0,variant:"outlined",size:"small",fullWidth:!0,className:e.cardField,onChange:function(e){var a=e.target.value;(""===a||Number(a))&&ce(a)},InputProps:{endAdornment:c.a.createElement(nt.a,{position:"end"},"AED")}})),c.a.createElement(O.a,{container:!0,justify:"center"},c.a.createElement(O.a,{item:!0,xs:6},c.a.createElement(v.a,{color:"primary",type:"submit",fullWidth:!0,variant:"contained",disabled:!W.card_number||V.length<3||!re},"Pay")))))))),c.a.createElement(rt.a,{className:e.backdrop,open:oe},c.a.createElement(ct.a,{color:"inherit"})),c.a.createElement(N.a,{open:!!m,autoHideDuration:6e3,onClose:we,anchorOrigin:{vertical:"top",horizontal:"center"}},c.a.createElement(vt,{onClose:we,severity:"error"},Object(z.a)(m))),c.a.createElement(N.a,{open:!!l,autoHideDuration:6e3,onClose:we,anchorOrigin:{vertical:"top",horizontal:"center"}},c.a.createElement(gt,{onClose:we,severity:"error"},Object(z.a)(l))),c.a.createElement(lt.a,{open:de,onClose:xe,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},c.a.createElement(it.a,{id:"alert-dialog-title"},"Transaction Update"),c.a.createElement(ot.a,null,c.a.createElement(st.a,{id:"alert-dialog-description"},"Transaction Success, Tip add to laborer")),c.a.createElement(mt.a,null,c.a.createElement(v.a,{onClick:xe,color:"primary",autoFocus:!0},"OK"))))},Ot=Object(C.a)({tipRow:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 16px"},tipTitle:{padding:"8px 16px"},tipAddRow:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",padding:"8px 16px"}}),jt=[],wt=function(e){var a=e.tip,t=Ot();return c.a.createElement("div",{className:t.tipRow},c.a.createElement("div",null,Object(ga.default)(new Date(a.timestamp),"dd MMM yy")),c.a.createElement("div",null,a.amount," AED"))};function xt(e){var a=e.laborer,t=Object(r.useState)(jt),l=Object(n.a)(t,2),i=l[0],o=l[1],s=Ot(),m=Object(u.g)(),d=function(){var e=Object(E.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a,"i am called"),e.next=3,n=a.id,R.a.get("".concat(_,"/labourers/labour/tip/history/").concat(n));case 3:(t=e.sent)&&200===t.data.statusCode&&o(t.data.data);case 5:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){d()}),[]),c.a.createElement("div",null,c.a.createElement(x.a,{color:"textSecondary",className:s.tipTitle},"Tip History"),c.a.createElement("div",null,i.map((function(e){return c.a.createElement(wt,{key:e.date,tip:e})}))),c.a.createElement("div",{className:s.tipAddRow},c.a.createElement(v.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){m.push("/payment",{laborer:a})}},"Add Tip")))}var Ct=Object(C.a)({cardRoot:{width:"100%",marginTop:"1em"},item:{display:"flex"},title:{marginRight:"3em",fontSize:16},pos:{marginBottom:12},width80:{width:"80%"},tipContainer:{marginLeft:"1em",marginTop:"5em",width:"20%"}}),St={heartRateData:[],summary:{steps:"",calories:"",distance:"",idleTime:""}};function Nt(){var e=Object(u.g)(),a=Ct(),t=c.a.useState(new Date),l=Object(n.a)(t,2),i=l[0],o=l[1],s=Object(r.useState)(St),m=Object(n.a)(s,2),d=m[0],f=m[1],b=Object(Ua.a)({},e.location.state.laborer),g=function(){var e=Object(E.a)(p.a.mark((function e(){var a,t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b.id){e.next=11;break}return e.prev=1,e.next=4,n=b.id,r=Object(ga.default)(i,"yyyy-MM-dd"),R.a.get("".concat(_,"/labourers/labour/").concat(n,"/date/").concat(r));case 4:a=e.sent,t=a.data.data,f({heartRateData:t.heart_rate["activities-heart-intraday"].dataset.map((function(e){var a=e.time,t=e.value;return{time:Aa(a),value:t}})),summary:{steps:t.activity.summary.steps,idleTime:t.activity.summary.sedentaryMinutes,calories:t.activity.summary.caloriesOut,distance:t.activity.summary.distances[0].distance}}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}var n,r}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){g()}),[i]),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(v.a,{startIcon:c.a.createElement(Ga.a,null),size:"small",onClick:e.goBack},"Back")),c.a.createElement(ua.a,{className:"".concat(a.cardRoot)},c.a.createElement(fa.a,null,c.a.createElement("div",{className:a.item},c.a.createElement(x.a,{className:a.title},"Name: ",b.name),c.a.createElement(x.a,{className:a.title},"Designation: ",b.designation),c.a.createElement(x.a,{className:a.title},"Phone: ","".concat(b.country_code," ").concat(b.phone)),c.a.createElement(x.a,{className:a.title},"Email: ",b.email),c.a.createElement(x.a,{className:a.title},"Total Tip Received: ",b.amount)))),c.a.createElement("div",{className:a.item},c.a.createElement("div",{className:a.width80},c.a.createElement("div",{className:a.item},c.a.createElement(Za.a,{utils:Ja.default},c.a.createElement(O.a,{container:!0,justify:"flex-end"},c.a.createElement($a.b,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"start-date",label:"Start Date",value:i,maxDate:new Date,onChange:function(e){o(e)},KeyboardButtonProps:{"aria-label":"change date"}})))),c.a.createElement(ua.a,{className:"".concat(a.cardRoot)},c.a.createElement(fa.a,null,c.a.createElement(x.a,{color:"textSecondary"},"Heart Rate ",c.a.createElement(x.a,{variant:"caption"},"(Bpm)")),c.a.createElement(Ya,{heartRateData:d.heartRateData}))),c.a.createElement(ua.a,{className:"".concat(a.cardRoot)},c.a.createElement(fa.a,null,c.a.createElement(x.a,{color:"textSecondary"},"Stats"),c.a.createElement(Xa,{summary:d.summary})))),c.a.createElement("div",{className:a.tipContainer},c.a.createElement(ua.a,{className:"".concat(a.cardRoot)},c.a.createElement(fa.a,null,c.a.createElement(xt,{laborer:b}))))))}Nt.defaultProps={laborer:{}};var kt=[{title:"Transaction Id",field:"id"},{title:"Sender Name",field:"sender_name"},{title:"Reciever Name",field:"receiver_name"},{title:"Amount",field:"amount"},{title:"Date",field:"timestamp",type:"date"},{title:"Payment Status",field:"payment_status",defaultGroupOrder:0}],Dt=(new Date).getMonth()+1,Rt=(new Date).getFullYear(),_t="".concat(Dt,"-01-").concat(Rt);function Pt(){var e=c.a.useState(new Date(_t)),a=Object(n.a)(e,2),t=a[0],l=a[1],i=c.a.useState(new Date),o=Object(n.a)(i,2),s=o[0],m=o[1],u=Object(r.useState)([]),d=Object(n.a)(u,2),f=d[0],b=d[1],v=function(){var e=Object(E.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n=Object(ga.default)(t,"yyyy-MM-dd"),r=Object(ga.default)(s,"yyyy-MM-dd"),R.a.get("".concat(_,"/labourers/transaction/start_date/").concat(n,"/end_date/").concat(r));case 2:(a=e.sent)&&200===a.data.statusCode&&b(a.data.data);case 4:case"end":return e.stop()}var n,r}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){return v(),function(){}}),[t,s]),c.a.createElement("div",null,c.a.createElement(Za.a,{utils:Ja.default},c.a.createElement(O.a,{container:!0,justify:"flex-end"},c.a.createElement($a.b,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"start-date",label:"Start Date",value:t,maxDate:new Date,onChange:function(e){l(e)},KeyboardButtonProps:{"aria-label":"change date"}}),c.a.createElement($a.b,{disableToolbar:!0,margin:"normal",variant:"inline",id:"end-date",label:"End Date",format:"dd/MM/yyyy",value:s,minDate:t,maxDate:new Date,onChange:function(e){m(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),c.a.createElement(_e,{title:"Finance Report",columns:kt,data:f,options:{exportButton:!0}}))}function Bt(){var e,a=Object(d.a)(["user"]),t=Object(n.a)(a,2),r=t[0];t[1];return c.a.createElement(m.a,null,c.a.createElement(u.d,null,c.a.createElement(u.b,{path:"/signin"},c.a.createElement(H,null)),c.a.createElement(u.b,{path:"/signup"},c.a.createElement(K,null)),c.a.createElement(Tt,{path:"/authenticate_device"},c.a.createElement(la,null)),c.a.createElement(Tt,{path:"/dashboard"},c.a.createElement(Ka,null)),c.a.createElement(Tt,{path:"/detail_view"},c.a.createElement(Nt,null)),c.a.createElement(Tt,{path:"/manage_laborers"},c.a.createElement(Ae,null)),c.a.createElement(Tt,{path:"/payment"},c.a.createElement(yt,null)),c.a.createElement(Tt,{path:"/"},"FINANCE"===(null===r||void 0===r||null===(e=r.user)||void 0===e?void 0:e.permission)?c.a.createElement(Pt,null):c.a.createElement(Ka,null)),c.a.createElement(Tt,{path:"/protected"},c.a.createElement(Mt,null))))}function Tt(e){var a=e.children,t=Object(s.a)(e,["children"]),r=Object(d.a)(["user"]),l=Object(n.a)(r,2),i=l[0];l[1];return c.a.createElement(u.b,Object.assign({},t,{render:function(e){var t,n=e.location;return(null===i||void 0===i||null===(t=i.user)||void 0===t?void 0:t.jwt)?c.a.createElement(ca,null,a):c.a.createElement(u.a,{to:{pathname:"/signin",state:{from:n}}})}}))}function Mt(){return c.a.createElement("h3",null,"Protected")}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function zt(e){var a,t=e.children,r=Object(d.a)(["user"]),l=Object(n.a)(r,2),i=l[0];l[1];return(null===i||void 0===i||null===(a=i.user)||void 0===a?void 0:a.jwt)&&P(i.user.jwt),c.a.createElement("div",null,t)}i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(o.a,null,c.a.createElement(zt,null,c.a.createElement(Bt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[577,1,2]]]);
//# sourceMappingURL=main.98a567f8.chunk.js.map