(this.webpackJsonplaborer_help_system=this.webpackJsonplaborer_help_system||[]).push([[0],{292:function(e,a,t){e.exports={container:"styles_container__7DN1k",componentContainer:"styles_componentContainer__ZdkRm"}},576:function(e,a,t){e.exports=t(834)},581:function(e,a,t){},834:function(e,a,t){"use strict";t.r(a);var n=t(23),r=t(0),c=t.n(r),l=t(20),i=t.n(l),o=t(876),s=(t(581),t(538)),m=t(136),u=t(39),d=t(860),f=t(40),p=t.n(f),E=t(71),v=t(879),b=t(141),g=t(862),h=t(270),y=t(865),j=t(864),O=t(269),w=t.n(O),x=t(72),S=t(77),C=t(861),N=t(866),k=t(877),R=t(116),D=t.n(R),_="http://54.157.153.53/api/v1",P=function(e){D.a.defaults.headers.common.Authorization="Bearer ".concat(e)},B=function(){return D.a.get("".concat(_,"/labourers/list"))},I=function(e){return D.a.post("".concat(_),{id:e})},M=t(6),T="";function H(e){return c.a.createElement(k.a,Object.assign({elevation:6},e))}var L=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function z(){var e=L(),a=Object(u.g)(),t=Object(r.useState)(""),l=Object(n.a)(t,2),i=l[0],o=l[1],s=Object(r.useState)(""),m=Object(n.a)(s,2),f=m[0],O=m[1],S=Object(d.a)(["user"]),k=Object(n.a)(S,2),R=(k[0],k[1]),B=Object(r.useState)(!1),I=Object(n.a)(B,2),z=I[0],A=I[1],F=Object(r.useState)(!1),W=Object(n.a)(F,2),q=W[0],K=W[1],U=function(){A(!1)},G=function(){var e=Object(E.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),K(!0),e.prev=2,e.next=5,r={email:i,password:f},D.a.post("".concat(_,"/user/login"),r);case 5:(n=e.sent)&&200===n.data.statusCode?(R("user",n.data.data,{path:"/"}),P(n.data.data.jwt),a.push("/")):(T="Signin failed!, Please try again",A(!0)),K(!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),T=e.t0&&e.t0.response?e.t0.response.data.message:"Signin failed!, Please try again",A(!0),K(!1);case 15:case"end":return e.stop()}var r}),e,null,[[2,10]])})));return function(a){return e.apply(this,arguments)}}();return c.a.createElement(C.a,{component:"main",maxWidth:"xs"},c.a.createElement(g.a,null),c.a.createElement("div",{className:e.paper},c.a.createElement(v.a,{className:e.avatar},c.a.createElement(w.a,null)),c.a.createElement(x.a,{component:"h1",variant:"h5"},"LHS"),c.a.createElement("form",{className:e.form,onSubmit:G},c.a.createElement(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){o(e.target.value)}}),c.a.createElement(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){O(e.target.value)}}),c.a.createElement(b.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:q},"Sign In"),c.a.createElement(j.a,{container:!0},c.a.createElement(j.a,{item:!0,xs:!0}),c.a.createElement(j.a,{item:!0},c.a.createElement(y.a,{href:"/signup",variant:"body2"},"Don't have an account? Sign Up")))),c.a.createElement(N.a,{open:z,autoHideDuration:6e3,onClose:U,anchorOrigin:{vertical:"top",horizontal:"center"}},c.a.createElement(H,{onClose:U,severity:"error"},Object(M.a)(T)))))}function A(e){return c.a.createElement(k.a,Object.assign({elevation:6},e))}var F=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),W="";function q(){var e=F(),a=Object(u.g)(),t=Object(r.useState)(""),l=Object(n.a)(t,2),i=l[0],o=l[1],s=Object(r.useState)(""),m=Object(n.a)(s,2),f=m[0],O=m[1],S=Object(r.useState)(""),k=Object(n.a)(S,2),R=k[0],B=k[1],I=Object(r.useState)(""),T=Object(n.a)(I,2),H=T[0],L=T[1],z=Object(d.a)(["user"]),q=Object(n.a)(z,2),K=(q[0],q[1]),U=Object(r.useState)(!1),G=Object(n.a)(U,2),J=G[0],Q=G[1],Z=Object(r.useState)(!1),V=Object(n.a)(Z,2),Y=V[0],$=V[1],X=function(){Q(!1)},ee=function(){var e=Object(E.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),$(!0),e.prev=2,e.next=5,r={firstname:R,lastname:H,email:i,password:f},D.a.post("".concat(_,"/user/register"),r);case 5:(n=e.sent)&&201===n.data.statusCode?(K("user",n.data.data,{path:"/"}),P(n.data.data.jwt),a.push("/")):(W="Signup failed!, Please try again",Q(!0)),$(!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),W=e.t0&&e.t0.response?e.t0.response.data.message:"Signup failed!, Please try again",Q(!0),$(!1);case 15:case"end":return e.stop()}var r}),e,null,[[2,10]])})));return function(a){return e.apply(this,arguments)}}();return c.a.createElement(C.a,{component:"main",maxWidth:"xs"},c.a.createElement(g.a,null),c.a.createElement("div",{className:e.paper},c.a.createElement(v.a,{className:e.avatar},c.a.createElement(w.a,null)),c.a.createElement(x.a,{component:"h1",variant:"h5"},"LHS"),c.a.createElement("form",{className:e.form,onSubmit:ee},c.a.createElement(j.a,{container:!0,spacing:2},c.a.createElement(j.a,{item:!0,xs:12,sm:6},c.a.createElement(h.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(e){B(e.target.value)}})),c.a.createElement(j.a,{item:!0,xs:12,sm:6},c.a.createElement(h.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:function(e){L(e.target.value)}})),c.a.createElement(j.a,{item:!0,xs:12},c.a.createElement(h.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){o(e.target.value)}})),c.a.createElement(j.a,{item:!0,xs:12},c.a.createElement(h.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){O(e.target.value)}}))),c.a.createElement(b.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:Y},"Sign Up"),c.a.createElement(j.a,{container:!0,justify:"flex-end"},c.a.createElement(j.a,{item:!0},c.a.createElement(y.a,{href:"/signin",variant:"body2"},"Already have an account? Sign in")))),c.a.createElement(N.a,{open:J,autoHideDuration:6e3,onClose:X,anchorOrigin:{vertical:"top",horizontal:"center"}},c.a.createElement(A,{onClose:X,severity:"error"},Object(M.a)(W)))))}var K=t(211),U=t(352),G=t.n(U),J=t(353),Q=t.n(J),Z=t(346),V=t.n(Z),Y=t(505),$=t.n(Y),X=t(515),ee=t.n(X),ae=t(506),te=t.n(ae),ne=t(513),re=t.n(ne),ce=t(360),le=t.n(ce),ie=t(359),oe=t.n(ie),se=t(507),me=t.n(se),ue=t(508),de=t.n(ue),fe=t(510),pe=t.n(fe),Ee=t(511),ve=t.n(Ee),be=t(512),ge=t.n(be),he=t(516),ye=t.n(he),je=t(509),Oe=t.n(je),we=t(514),xe=t.n(we),Se=t(517),Ce=t.n(Se),Ne=t(518),ke=t.n(Ne),Re={Add:Object(r.forwardRef)((function(e,a){return c.a.createElement($.a,Object.assign({},e,{ref:a}))})),Check:Object(r.forwardRef)((function(e,a){return c.a.createElement(te.a,Object.assign({},e,{ref:a}))})),Clear:Object(r.forwardRef)((function(e,a){return c.a.createElement(oe.a,Object.assign({},e,{ref:a}))})),Delete:Object(r.forwardRef)((function(e,a){return c.a.createElement(me.a,Object.assign({},e,{ref:a}))})),DetailPanel:Object(r.forwardRef)((function(e,a){return c.a.createElement(le.a,Object.assign({},e,{ref:a}))})),Edit:Object(r.forwardRef)((function(e,a){return c.a.createElement(de.a,Object.assign({},e,{ref:a}))})),Export:Object(r.forwardRef)((function(e,a){return c.a.createElement(Oe.a,Object.assign({},e,{ref:a}))})),Filter:Object(r.forwardRef)((function(e,a){return c.a.createElement(pe.a,Object.assign({},e,{ref:a}))})),FirstPage:Object(r.forwardRef)((function(e,a){return c.a.createElement(ve.a,Object.assign({},e,{ref:a}))})),LastPage:Object(r.forwardRef)((function(e,a){return c.a.createElement(ge.a,Object.assign({},e,{ref:a}))})),NextPage:Object(r.forwardRef)((function(e,a){return c.a.createElement(le.a,Object.assign({},e,{ref:a}))})),PreviousPage:Object(r.forwardRef)((function(e,a){return c.a.createElement(re.a,Object.assign({},e,{ref:a}))})),ResetSearch:Object(r.forwardRef)((function(e,a){return c.a.createElement(oe.a,Object.assign({},e,{ref:a}))})),Search:Object(r.forwardRef)((function(e,a){return c.a.createElement(xe.a,Object.assign({},e,{ref:a}))})),SortArrow:Object(r.forwardRef)((function(e,a){return c.a.createElement(ee.a,Object.assign({},e,{ref:a}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,a){return c.a.createElement(ye.a,Object.assign({},e,{ref:a}))})),ViewColumn:Object(r.forwardRef)((function(e,a){return c.a.createElement(Ce.a,Object.assign({},e,{ref:a}))})),Asses:Object(r.forwardRef)((function(e,a){return c.a.createElement(ke.a,Object.assign({},e,{ref:a}))}))};function De(e){var a=e.data,t=e.title,n=e.columns,r=e.editable,l=e.actions,i=e.options;return c.a.createElement(V.a,{icons:Re,columns:n,data:a,title:t,editable:r,actions:l,options:i})}De.defaultProps={data:[]};var _e="";function Pe(e){return c.a.createElement(k.a,Object.assign({elevation:6},e))}function Be(e){return c.a.createElement(k.a,Object.assign({elevation:6},e,{severity:"success"}))}var Ie=[{title:"Name",field:"name",validate:function(e){return""===e.name?"Name cannot be empty":""}},{title:"Designation",field:"designation",validate:function(e){return""===e.designation?"Designation cannot be empty":""}},{title:"Email",field:"email",validate:function(e){return""===e.email?"Email cannot be empty":""}},{title:"Country Code",field:"country_code",validate:function(e){return""===e.country_code?"Country Code cannot be empty":""}},{title:"Phone",field:"phone",validate:function(e){return""===e.phone?"Phone number cannot be empty":""}},{title:"Fitbit",field:"code",editable:"onAdd",render:function(e){return c.a.createElement(G.a,{data:e})},editComponent:function(e){return c.a.createElement(Me,e)}}],Me=function(e){var a=e.onChange,t=function(e){var t=localStorage.getItem("tracker_token");localStorage.removeItem("tracker_token"),a(t)};return c.a.createElement(K.a,{"aria-label":"add_fitbit",onClick:function(){window.addEventListener("storage",t),window.open("https://www.fitbit.com/oauth2/authorize?response_type=code&client_id=22BT9C&redirect_uri=https://54.157.153.53/authenticate_device&scope=activity%20nutrition%20heartrate%20location%20nutrition%20profile%20settings%20sleep%20social%20weight","_blank")}},c.a.createElement(Q.a,null))};function Te(){var e=Object(r.useState)([]),a=Object(n.a)(e,2),t=a[0],l=a[1],i=Object(r.useState)(""),o=Object(n.a)(i,2),s=o[0],m=o[1],u=function(){var e=Object(E.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:(a=e.sent)&&a.data&&l(a.data.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){u()}),[]);var d=function(){_e="",m("")};return c.a.createElement("div",null,c.a.createElement(De,{columns:Ie,data:t,title:"Laborers",options:{actionsColumnIndex:-1},editable:{onRowAdd:function(e){return new Promise((function(a,t){if(e.name&&e.designation&&e.country_code&&e.phone&&e.code&&e.email){var n=e.name,r=e.designation,c=e.country_code,l=e.phone,i=e.code,o=e.email;(s={name:n,designation:r,country_code:c,phone:l,code:i,email:o},D.a.post("".concat(_,"/labourers/labourer"),s)).then((function(e){e&&201===e.data.statusCode?(m("success"),u(),a()):(_e="Failed to add laborer",m("failed"),t())})).catch((function(e){_e=e&&e.response?e.response.data.message:"Failed to add laborer",m("failed"),t()}))}else m("failed"),t();var s}))}}}),c.a.createElement(N.a,{open:"failed"===s,autoHideDuration:6e3,onClose:d,anchorOrigin:{vertical:"top",horizontal:"center"}},c.a.createElement(Pe,{onClose:d,severity:"error"},Object(M.a)(_e))),c.a.createElement(N.a,{open:"success"===s,autoHideDuration:6e3,onClose:d,anchorOrigin:{vertical:"top",horizontal:"center"}},c.a.createElement(Be,{onClose:d,severity:"error"},"Succefully added laborer")))}var He=t(214),Le=t(871),ze=t(86),Ae=t(498),Fe=t(841),We=t(844),qe=t(442),Ke=t(519),Ue=t.n(Ke),Ge=t(521),Je=t.n(Ge),Qe=t(347),Ze=t(22),Ve=t(537),Ye=t(520),$e=t.n(Ye),Xe=t(432),ea=t(259),aa=Object(S.a)((function(e){return{root:{display:"flex",alignItems:"center"},drawer:Object(He.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:{zIndex:e.zIndex.drawer+1},menuButton:Object(He.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)},closeMenuButton:{marginRight:"auto",marginLeft:0},title:{flexGrow:1},marginLeft8:{marginLeft:"3em"},iconLink:{display:"flex",alignItems:"center"}}}));var ta=function(){var e,a,t=aa(),r=Object(Ze.a)(),l=c.a.useState(!1),i=Object(n.a)(l,2),o=i[0],s=i[1],m=c.a.useState(null),f=Object(n.a)(m,2),p=f[0],E=f[1],v=Boolean(p),b=Object(u.g)(),h=Object(d.a)(["user"]),j=Object(n.a)(h,3),O=j[0],w=(j[1],j[2]);function S(){s(!o)}var C=c.a.createElement("div",null,c.a.createElement(Fe.a,null,["Hokusai","Hiroshige","Utamaro","Kuniyoshi","Yoshitoshi"].map((function(e,a){return c.a.createElement(We.a,{button:!0,key:e},c.a.createElement(qe.a,{primary:e}))}))));return console.log(null===O||void 0===O?void 0:O.user),c.a.createElement("div",{className:t.root},c.a.createElement(g.a,null),c.a.createElement(Le.a,{position:"static",className:t.appBar},c.a.createElement(Qe.a,{variant:"dense"},c.a.createElement("div",{className:"".concat(t.root," ").concat(t.title)},c.a.createElement(K.a,{color:"inherit","aria-label":"Open drawer",edge:"start",onClick:S,className:t.menuButton},c.a.createElement(Ue.a,null)),c.a.createElement(y.a,{href:"/manage_laborers",onClick:function(e){e.preventDefault(),b.push("/")},underline:"none",color:"inherit",className:t.iconLink},c.a.createElement(Ve.a,{size:"2em"}),c.a.createElement(x.a,{variant:"h6",noWrap:!0},"\xa0Laborer Help System")),"MANAGER"===(null===O||void 0===O||null===(e=O.user)||void 0===e?void 0:e.permission)&&c.a.createElement(Ae.a,{xsDown:!0,implementation:"css"},c.a.createElement(y.a,{href:"/manage_laborers",onClick:function(e){e.preventDefault(),b.push("/manage_laborers")},underline:"none",color:"inherit",className:t.marginLeft8},"Manage Laborers"))),c.a.createElement("div",null,c.a.createElement(K.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){E(e.currentTarget)},color:"inherit"},c.a.createElement($e.a,null),c.a.createElement(x.a,{variant:"body2"},"\xa0",null===O||void 0===O||null===(a=O.user)||void 0===a?void 0:a.firstname)),c.a.createElement(ea.a,{id:"menu-appbar",anchorEl:p,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:v,onClose:function(){E(null)}},c.a.createElement(Xe.a,{onClick:function(){w("user")}},"Logout"))))),c.a.createElement(Ae.a,{smUp:!0,implementation:"css"},c.a.createElement("nav",{className:t.drawer},c.a.createElement(ze.a,{variant:"temporary",anchor:"rtl"===r.direction?"right":"left",open:o,onClose:S,classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0}},c.a.createElement(K.a,{onClick:S,className:t.closeMenuButton},c.a.createElement(Je.a,null)),C))))},na=t(317);function ra(e){var a=e.children;return c.a.createElement("div",null,c.a.createElement(ta,null),c.a.createElement(na.a,{px:4,py:4},a))}function ca(){var e=new URL(window.location.href).searchParams.get("code");return e&&window.localStorage.setItem("tracker_token",e),window.close(),null}var la=[{title:"Name",field:"name"},{title:"Designation",field:"designation"}];function ia(e){var a=e.selectLaborer,t=Object(r.useState)([]),l=Object(n.a)(t,2),i=l[0],o=l[1],s=function(){var e=Object(E.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:(t=e.sent)&&t.data&&(a(t.data.data[0]),o(t.data.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){s()}),[]),c.a.createElement(De,{columns:la,data:i,title:"Laborers",actions:[{icon:Re.Asses,tooltip:"User Data",onClick:function(e,t){return a(t)}}],options:{actionsColumnIndex:-1,minBodyHeight:window.innerHeight-208,pageSize:10}})}ia.defaultProps={selectLaborer:function(){}};var oa=t(292),sa=t.n(oa),ma=t(872),ua=t(873),da=t(874),fa=t(532),pa=t.n(fa),Ea=t(531),va=t.n(Ea),ba=t(92),ga=t(62);function ha(e){var a=e.heartRateData;return c.a.createElement("div",{style:{width:"100%",height:window.innerHeight/3}},c.a.createElement(ga.e,null,c.a.createElement(ga.d,{data:a,margin:{top:5,right:30,left:20,bottom:5}},c.a.createElement(ga.a,{strokeDasharray:"3 3"}),c.a.createElement(ga.g,{dataKey:"time",scale:"time",type:"number",domain:["auto","auto"],tickFormatter:function(e){return Object(ba.default)(e,"hh aaaa")}}),c.a.createElement(ga.f,{labelFormatter:function(e,a,t){return"Time : ".concat(Object(ba.default)(e,"hh aaaa"))}}),c.a.createElement(ga.b,null),c.a.createElement(ga.c,{type:"monotone",dataKey:"value",stroke:"#8884d8",dot:!1,name:"Heart Rate"}))))}var ya=t(444),ja=t(161),Oa=t(445),wa=t(446),xa=t(283),Sa=t.n(xa),Ca=t(284),Na=t.n(Ca),ka=t(282),Ra=t.n(ka),Da=t(285),_a=t.n(Da),Pa=Object(S.a)({statRow:{display:"flex",flexDirection:"row",flex:1,justifyContent:"center",alignItems:"center"},statContainer:{padding:"1em 5em",textAlign:"center"},valueContainer:{display:"flex",alignItems:"center"},titleStat:{fontSize:"1em"},valueStat:{fontSize:"2em"}});function Ba(e){var a=e.summary,t=Pa();return c.a.createElement("div",null,c.a.createElement("div",{className:t.statRow},c.a.createElement("div",{className:t.statContainer},c.a.createElement("div",null,c.a.createElement(x.a,{className:t.titleStat,color:"textSecondary"},"Steps")),c.a.createElement("div",{className:t.valueContainer},c.a.createElement(Ra.a,{style:{color:ya.a[500]}}),c.a.createElement(x.a,{className:t.valueStat},a.steps))),c.a.createElement("div",{className:t.statContainer},c.a.createElement("div",null,c.a.createElement(x.a,{className:t.titleStat},"Calories")),c.a.createElement("div",{className:t.valueContainer},c.a.createElement(Sa.a,{style:{color:ja.a[500]}}),c.a.createElement(x.a,{className:t.valueStat},a.calories," kcal")))),c.a.createElement("div",{className:t.statRow},c.a.createElement("div",{className:t.statContainer},c.a.createElement("div",null,c.a.createElement(x.a,{color:"textSecondary",className:t.titleStat},"Distance")),c.a.createElement("div",{className:t.valueContainer},c.a.createElement(Na.a,{style:{color:Oa.a[500]}}),c.a.createElement(x.a,{className:t.valueStat},a.distance," km"))),c.a.createElement("div",{className:t.statContainer},c.a.createElement("div",null,c.a.createElement(x.a,{color:"textSecondary",className:t.titleStat},"Sendentary Time")),c.a.createElement("div",{className:t.valueContainer},c.a.createElement(_a.a,{style:{color:wa.a[300]}}),c.a.createElement(x.a,{className:t.valueStat},a.idleTime," mins")))))}Ba.defaultProps={summary:{}};var Ia=t(536),Ma=t(875),Ta=function(e){var a=Object(Ia.a)(e,"HH:mm:ss",new Date((new Date).toDateString()).valueOf());return Object(Ma.a)(a)},Ha=Object(S.a)({root:{width:"100%",minHeight:window.innerHeight-92,display:"flex",flexDirection:"column",justifyContent:"space-between"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{},pos:{marginBottom:12},dateString:{display:"flex",alignItems:"center"}}),La={heartRateData:[],summary:{steps:"",calories:"",distance:"",idleTime:""}};function za(e){var a=e.laborer,t=Ha(),l=Object(u.g)(),i=Object(r.useState)(La),o=Object(n.a)(i,2),s=o[0],m=o[1],d=function(){var e=Object(E.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.id){e.next=11;break}return e.prev=1,e.next=4,r=a.id,D.a.get("".concat(_,"/labourers/labour/").concat(r));case 4:t=e.sent,n=t.data.data,m({heartRateData:n.heart_rate["activities-heart-intraday"].dataset.map((function(e){var a=e.time,t=e.value;return{time:Ta(a),value:t}})),summary:{steps:n.activity.summary.steps,idleTime:n.activity.summary.sedentaryMinutes,calories:n.activity.summary.caloriesOut,distance:n.activity.summary.distances[0].distance}}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}var r}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){d()}),[a]);return c.a.createElement(ma.a,{className:"".concat(t.root," MuiPaper-elevation2")},c.a.createElement(da.a,null,c.a.createElement(j.a,{container:!0},c.a.createElement(j.a,{item:!0,xs:10},c.a.createElement(x.a,{className:t.title,color:"textPrimary",gutterBottom:!0,variant:"h5"},Object(M.a)(a.name||"")),c.a.createElement(x.a,{color:"textSecondary",variant:"caption"},"Designation"),c.a.createElement(x.a,{gutterBottom:!0},Object(M.a)(a.designation||"")),c.a.createElement(j.a,{container:!0},c.a.createElement(j.a,{item:!0,xs:6},c.a.createElement(x.a,{color:"textSecondary",variant:"caption"},"Contact")),c.a.createElement(j.a,{item:!0,xs:6},c.a.createElement(x.a,{color:"textSecondary",variant:"caption"},"Email"))),c.a.createElement(j.a,{container:!0},c.a.createElement(j.a,{item:!0,xs:6},c.a.createElement(x.a,{color:"textSecondary",gutterBottom:!0},"".concat(a.country_code," ").concat(a.phone))),c.a.createElement(j.a,{item:!0,xs:6},c.a.createElement(x.a,{gutterBottom:!0},a.email)))),c.a.createElement(j.a,{item:!0,xs:2},c.a.createElement(x.a,{variant:"body2",className:t.dateString,gutterBottom:!0},c.a.createElement(va.a,{fontSize:"small"}),Object(ba.default)(new Date," do MMM")))),c.a.createElement(x.a,{color:"textSecondary"},"Heart Rate"),c.a.createElement(ha,{laborer:a,heartRateData:s.heartRateData}),c.a.createElement(x.a,{color:"textSecondary",gutterBottom:!0},"Stats"),c.a.createElement(Ba,{laborer:a,summary:s.summary})),c.a.createElement(ua.a,null,c.a.createElement(b.a,{endIcon:c.a.createElement(pa.a,null),onClick:function(){l.push("/detail_view",{laborer:a})},size:"small"},"Detailed")))}function Aa(){var e=Object(r.useState)({}),a=Object(n.a)(e,2),t=a[0],l=a[1];return c.a.createElement("div",{className:sa.a.container},c.a.createElement("div",{className:sa.a.componentContainer},c.a.createElement(ia,{selectLaborer:l})),c.a.createElement("div",{className:sa.a.componentContainer},c.a.createElement(za,{laborer:t})))}za.defaultProps={laborer:{}};var Fa=t(533),Wa=t(535),qa=t.n(Wa);function Ka(e){var a=e.heartRateData;return c.a.createElement("div",{style:{width:"100%",height:200}},c.a.createElement(ga.e,null,c.a.createElement(ga.d,{data:a,margin:{top:5,right:30,left:20,bottom:5}},c.a.createElement(ga.a,{strokeDasharray:"3 3"}),c.a.createElement(ga.g,{dataKey:"time",scale:"time",type:"number",domain:["auto","auto"],tickFormatter:function(e){return Object(ba.default)(e,"hh:mm aaaa")}}),c.a.createElement(ga.f,{labelFormatter:function(e,a,t){return"Time : ".concat(Object(ba.default)(e,"hh:mm aaaa"))}}),c.a.createElement(ga.b,null),c.a.createElement(ga.c,{type:"monotone",dataKey:"value",stroke:"#8884d8",dot:!1,name:"Heart Rate"}))))}var Ua=t(261),Ga=t(31),Ja=t(315),Qa=Object(S.a)({statRow:{display:"flex",flexDirection:"row",flex:1,justifyContent:"center",alignItems:"center"},statContainer:{padding:"1em 5em",textAlign:"center"},valueContainer:{display:"flex",alignItems:"center"},titleStat:{fontSize:"1em"},valueStat:{fontSize:"2em"}});function Za(e){var a=e.summary,t=Qa();return c.a.createElement("div",{className:t.statRow},c.a.createElement("div",{className:t.statContainer},c.a.createElement("div",null,c.a.createElement(x.a,{className:t.titleStat,color:"textSecondary"},"Steps")),c.a.createElement("div",{className:t.valueContainer},c.a.createElement(Ra.a,{style:{color:ya.a[500]}}),c.a.createElement(x.a,{className:t.valueStat},a.steps))),c.a.createElement("div",{className:t.statContainer},c.a.createElement("div",null,c.a.createElement(x.a,{color:"textSecondary",className:t.titleStat},"Calories")),c.a.createElement("div",{className:t.valueContainer},c.a.createElement(Sa.a,{style:{color:ja.a[500]}}),c.a.createElement(x.a,{className:t.valueStat},a.calories," kcal"))),c.a.createElement("div",{className:t.statContainer},c.a.createElement("div",null,c.a.createElement(x.a,{color:"textSecondary",className:t.titleStat},"Distance")),c.a.createElement("div",{className:t.valueContainer},c.a.createElement(Na.a,{style:{color:Oa.a[500]}}),c.a.createElement(x.a,{className:t.valueStat},a.distance," km"))),c.a.createElement("div",{className:t.statContainer},c.a.createElement("div",null,c.a.createElement(x.a,{color:"textSecondary",className:t.titleStat},"Sedentary Time")),c.a.createElement("div",{className:t.valueContainer},c.a.createElement(_a.a,{style:{color:wa.a[300]}}),c.a.createElement(x.a,{className:t.valueStat},a.idleTime," mins"))))}Za.defaultProps={summary:{}};var Va=t(534),Ya=t(142),$a=Object(Va.a)("pk_test_51HjQRyGP0tr1kCVFaY0oL6GnPhCIFwaBqO8zOsUwvOG6jTMjMgsPIn2AM8ZQ8EQxurRL2SoQFc6DsBa1pKQDp2JJ00ZQ9HZcRb"),Xa=function(){var e=Object(Ya.useStripe)(),a=Object(Ya.useElements)(),t=function(){var t=Object(E.a)(p.a.mark((function t(n){var r,c,l,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.getElement(Ya.CardElement),n.preventDefault(),t.next=5,e.createPaymentMethod({type:"card",card:a.getElement(Ya.CardElement)});case 5:if(r=t.sent,c=r.error,l=r.paymentMethod,c){t.next=14;break}return console.log(l),i=l.id,t.next=13,I({id:i,amount:200});case 13:t.sent;case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return c.a.createElement("form",{onSubmit:t,style:{width:"100%"}},c.a.createElement(Ya.CardElement,null),c.a.createElement(j.a,{container:!0,alignContent:"center",alignItems:"center"},c.a.createElement(j.a,{item:!0,xs:8},c.a.createElement(h.a,{id:"tip-amount",label:"Amount",required:!0,type:"number"})),c.a.createElement(j.a,{item:!0,xs:2},c.a.createElement(b.a,{size:"small",color:"primary",type:"submit",variant:"contained"},"Pay"))))};function et(){return c.a.createElement(Ya.Elements,{stripe:$a},c.a.createElement(Xa,null))}var at=Object(S.a)({tipRow:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 16px"},tipTitle:{padding:"8px 16px"},tipAddRow:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",padding:"8px 16px"}}),tt=[{date:"22nd May",amount:"20"},{date:"22nd Jun",amount:"15"},{date:"22nd Jul",amount:"10"},{date:"22nd Aug",amount:"5"},{date:"22nd Sept",amount:"30"},{date:"22nd Oct",amount:"10"}],nt=function(e){var a=e.tip,t=at();return c.a.createElement("div",{className:t.tipRow},c.a.createElement("div",null,a.date),c.a.createElement("div",null,a.amount," $"))};function rt(){var e=at();return c.a.createElement("div",null,c.a.createElement(x.a,{color:"textSecondary",className:e.tipTitle},"Tip History"),c.a.createElement("div",null,tt.map((function(e){return c.a.createElement(nt,{key:e.date,tip:e})}))),c.a.createElement("div",{className:e.tipAddRow},c.a.createElement(et,null)))}var ct=Object(S.a)({cardRoot:{width:"100%",marginTop:"1em"},item:{display:"flex"},title:{marginRight:"3em",fontSize:16},pos:{marginBottom:12},width80:{width:"80%"},tipContainer:{marginLeft:"1em",marginTop:"5em",width:"20%"}}),lt={heartRateData:[],summary:{steps:"",calories:"",distance:"",idleTime:""}};function it(){var e=Object(u.g)(),a=ct(),t=c.a.useState(new Date),l=Object(n.a)(t,2),i=l[0],o=l[1],s=Object(r.useState)(lt),m=Object(n.a)(s,2),d=m[0],f=m[1],v=Object(Fa.a)({},e.location.state.laborer),g=function(){var e=Object(E.a)(p.a.mark((function e(){var a,t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.id){e.next=11;break}return e.prev=1,e.next=4,n=v.id,r=Object(ba.default)(i,"yyyy-MM-dd"),D.a.get("".concat(_,"/labourers/labour/").concat(n,"/date/").concat(r));case 4:a=e.sent,t=a.data.data,f({heartRateData:t.heart_rate["activities-heart-intraday"].dataset.map((function(e){var a=e.time,t=e.value;return{time:Ta(a),value:t}})),summary:{steps:t.activity.summary.steps,idleTime:t.activity.summary.sedentaryMinutes,calories:t.activity.summary.caloriesOut,distance:t.activity.summary.distances[0].distance}}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}var n,r}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){g()}),[i]),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(b.a,{startIcon:c.a.createElement(qa.a,null),size:"small",onClick:e.goBack},"Back")),c.a.createElement(ma.a,{className:"".concat(a.cardRoot)},c.a.createElement(da.a,null,c.a.createElement("div",{className:a.item},c.a.createElement(x.a,{className:a.title},"Name: ",v.name),c.a.createElement(x.a,{className:a.title},"Designation: ",v.designation),c.a.createElement(x.a,{className:a.title},"Phone: ","".concat(v.country_code," ").concat(v.phone)),c.a.createElement(x.a,{className:a.title},"Email: ",v.email)))),c.a.createElement("div",{className:a.item},c.a.createElement("div",{className:a.width80},c.a.createElement("div",{className:a.item},c.a.createElement(Ga.a,{utils:Ua.default},c.a.createElement(j.a,{container:!0,justify:"flex-end"},c.a.createElement(Ja.b,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"start-date",label:"Start Date",value:i,maxDate:new Date,onChange:function(e){o(e)},KeyboardButtonProps:{"aria-label":"change date"}})))),c.a.createElement(ma.a,{className:"".concat(a.cardRoot)},c.a.createElement(da.a,null,c.a.createElement(x.a,{color:"textSecondary"},"Heart Rate ",c.a.createElement(x.a,{variant:"caption"},"(Bpm)")),c.a.createElement(Ka,{heartRateData:d.heartRateData}))),c.a.createElement(ma.a,{className:"".concat(a.cardRoot)},c.a.createElement(da.a,null,c.a.createElement(x.a,{color:"textSecondary"},"Stats"),c.a.createElement(Za,{summary:d.summary})))),c.a.createElement("div",{className:a.tipContainer},c.a.createElement(ma.a,{className:"".concat(a.cardRoot)},c.a.createElement(da.a,null,c.a.createElement(rt,null))))))}function ot(){return c.a.createElement(m.a,null,c.a.createElement(u.d,null,c.a.createElement(u.b,{path:"/signin"},c.a.createElement(z,null)),c.a.createElement(u.b,{path:"/signup"},c.a.createElement(q,null)),c.a.createElement(st,{path:"/authenticate_device"},c.a.createElement(ca,null)),c.a.createElement(st,{path:"/dashboard"},c.a.createElement(Aa,null)),c.a.createElement(st,{path:"/detail_view"},c.a.createElement(it,null)),c.a.createElement(st,{path:"/manage_laborers"},c.a.createElement(Te,null)),c.a.createElement(st,{path:"/"},c.a.createElement(Aa,null)),c.a.createElement(st,{path:"/protected"},c.a.createElement(mt,null))))}function st(e){var a=e.children,t=Object(s.a)(e,["children"]),r=Object(d.a)(["user"]),l=Object(n.a)(r,2),i=l[0];l[1];return c.a.createElement(u.b,Object.assign({},t,{render:function(e){var t,n=e.location;return(null===i||void 0===i||null===(t=i.user)||void 0===t?void 0:t.jwt)?c.a.createElement(ra,null,a):c.a.createElement(u.a,{to:{pathname:"/signin",state:{from:n}}})}}))}function mt(){return c.a.createElement("h3",null,"Protected")}it.defaultProps={laborer:{}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ut(e){var a,t=e.children,r=Object(d.a)(["user"]),l=Object(n.a)(r,2),i=l[0];l[1];return(null===i||void 0===i||null===(a=i.user)||void 0===a?void 0:a.jwt)&&P(i.user.jwt),c.a.createElement("div",null,t)}i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(o.a,null,c.a.createElement(ut,null,c.a.createElement(ot,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[576,1,2]]]);
//# sourceMappingURL=main.544da0da.chunk.js.map